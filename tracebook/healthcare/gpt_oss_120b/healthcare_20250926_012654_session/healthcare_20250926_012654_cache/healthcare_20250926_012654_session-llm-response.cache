
===============================================================
ITERATION : 1
===============================================================
rule(subject.position [ {nurse} ]; type [ {HRitem} ], topics ] nursing; { read }; subject.ward = resource.ward)
rule(subject.position [ {doctor} ]; type [ {HRitem} ]; { read }; subject.specialties ] resource.topics)
rule(; type [ {HRitem} ], topics ] note; { read }; subject.agentFor ] resource.patient)
rule(; type [ {HRitem} ], topics ] note; { read }; subject.ward = resource.ward)
rule(subject.position [ {nurse} ]; type [ {HR} ]; { addItem }; subject.ward = resource.ward)
rule(subject.position [ {doctor} ]; type [ {HR} ]; { addItem }; subject.teams ] resource.treatingTeam)
rule(; type [ {HR} ]; { addNote }; subject.ward = resource.ward)
rule(; type [ {HR} ]; { addNote }; subject.agentFor ] resource.patient)
===============================================================
ITERATION : 0
===============================================================
**Rule 1 – Nurses can read nursing items of patients that are in the same ward**

```
subject.position = nurse ;
subject.ward = resource.ward ;
resource.type = HRitem ;
resource.topics = nursing ;
{ read }
```

**Rule 2 – Doctors can read clinical items whose topic matches one of the doctor’s specialties**

```
subject.position = doctor ;
subject.specialties ] resource.topics ;
resource.type = HRitem ;
resource.topics != nursing ;
{ read }
```

**Rule 3 – Agents can read note items of the patients they represent**

```
subject.agentFor ] resource.patient ;
resource.type = HRitem ;
resource.topics = note ;
{ read }
```

**Rule 4 – Patients can read their own note items**

```
subject.ward = resource.ward ;
resource.type = HRitem ;
resource.topics = note ;
subject.position =  ;
{ read }
```

**Rule 5 – Nurses can add items to a patient’s health‑record when the patient is in the same ward**

```
subject.position = nurse ;
subject.ward = resource.ward ;
resource.type = HR ;
{ addItem }
```

**Rule 6 – Doctors can add items to a patient’s health‑record when the patient’s treating team is one of the doctor’s teams**

```
subject.position = doctor ;
subject.teams ] resource.treatingTeam ;
resource.type = HR ;
{ addItem }
```

**Rule 7 – Patients can add a note to their own health‑record**

```
subject.ward = resource.ward ;
resource.type = HR ;
{ addNote }
```

**Rule 8 – Agents can add a note to the health‑record of the patient they represent**

```
subject.agentFor ] resource.patient ;
resource.type = HR ;
{ addNote }
```

These eight rules reproduce exactly the permissions listed in the ACL (read, addItem, addNote) while using only the defined user and resource attributes and avoiding the explicit use of `uid` and `rid`.